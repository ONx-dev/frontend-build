(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8977],{93890:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-project",function(){return r(55374)}])},55374:function(e,t,r){"use strict";r.r(t);var n=r(47568),a=r(14924),c=r(26042),s=r(69396),i=r(10797),o=r(70655),l=r(85893),u=r(69077),p=r(77849),d=r(45682),m=r(67294),_=r(11163),j=r(33850),x=r.n(j),f=r(89496),v=r(61952),h={name:"",kind:"",amount:"0",provider:""},g={name:"",descriptionLink:"",spendings:[(0,c.Z)({},h)]};t.default=function(){var e=(0,_.useRouter)(),t=(0,m.useState)(!1),r=t[0],j=t[1],b=(0,u.cq)({address:p.iF.workflow,abi:p._p.workflow,signerOrProvider:(0,u.mx)().data}),N=(0,m.useState)((0,c.Z)({},g)),C=N[0],y=N[1],T=function(){var t=(0,n.Z)((function(t){var r;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:t.preventDefault(),console.log(C),console.log("Creating..."),j(!0),n.label=1;case 1:return n.trys.push([1,4,5,6]),[4,b.createProject(C.name,C.descriptionLink,C.spendings)];case 2:return[4,n.sent().wait()];case 3:return n.sent(),console.log("Created!"),e.push("/project"),[3,6];case 4:if(r=n.sent(),!(0,d.y)(r))throw r;return[3,6];case 5:return j(!1),[7];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),k=function(e){var t=e.target,r=t.name,n=t.value;y((function(e){return(0,s.Z)((0,c.Z)({},e),(0,a.Z)({},r,n))}))},w=function(e,t){var r=e.target,n=r.name,a=r.value;y((function(e){var r=(0,i.Z)(e.spendings);return r[t][n]=a,(0,s.Z)((0,c.Z)({},e),{spendings:r})}))},D=function(e){e.preventDefault(),y((function(e){var t=(0,i.Z)(e.spendings);return t.push((0,c.Z)({},h)),(0,s.Z)((0,c.Z)({},e),{spendings:t})}))},I=(0,m.useState)(null),W=I[0],A=I[1],B=(0,m.useState)(),P=B[0],O=B[1];return(0,l.jsxs)("div",{className:x().wrapper,children:[(0,l.jsx)(f.Z,{}),(0,l.jsxs)("div",{className:x().mainWrapper,children:[(0,l.jsx)(v.Z,{type:"create-projects-or-no-projects",transactionInProcess:r}),(0,l.jsx)("div",{className:x().content,children:(0,l.jsxs)("form",{onSubmit:T,children:[(0,l.jsxs)("div",{className:x().form,children:[(0,l.jsxs)("label",{htmlFor:"image",onDragOver:function(e){return e.preventDefault()},onDragEnter:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files,r=null===t||void 0===t?void 0:t[0];if(r&&r.size>10485760)alert("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 10 \u041c\u0431");else{A(r||null);var n=new FileReader;n.onload=function(){var e;O(null===(e=n.result)||void 0===e?void 0:e.toString())},n.readAsDataURL(r)}},style:{backgroundImage:P?"url(".concat(P,")"):void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[(0,l.jsx)("div",{className:x().labelForImages,children:!P&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:x().labelTop,children:[(0,l.jsx)("div",{className:x().labelImage,children:(0,l.jsx)("img",{src:"/image.svg",alt:""})}),(0,l.jsx)("h2",{className:x().labelTitle,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443"}),(0,l.jsx)("p",{className:x().labelDescription,children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0432 \u044d\u0442\u043e \u043e\u043a\u043d\u043e"})]}),(0,l.jsxs)("div",{className:x().labelDown,children:[(0,l.jsx)("p",{className:x().extensions,children:"JPG, PNG, BMP"}),(0,l.jsx)("p",{className:x().size,children:"\u0434\u043e 5 \u043c\u0431"})]})]})}),(0,l.jsx)("input",{id:"image",className:x().inputLabel,type:"file",name:"image",onChange:function(e){var t=e.target.files,r=null===t||void 0===t?void 0:t[0];if(r&&r.size>10485760)alert("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 10 \u041c\u0431");else{A(r||null);var n=new FileReader;n.onload=function(){var e;O(null===(e=n.result)||void 0===e?void 0:e.toString())},n.readAsDataURL(r)}},accept:"image/jpeg, image/png, image/bmp"}),W&&(0,l.jsx)("div",{children:W.name})]}),(0,l.jsxs)("div",{className:x().secondSide,children:[(0,l.jsx)("h1",{className:x().title,children:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0434\u0430\u043d\u0456 \u043f\u0440\u043e\u0454\u043a\u0442\u0443"}),(0,l.jsx)("p",{className:x().description,children:"\u0429\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0440\u043e\u0435\u043a\u0442, \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0432\u0441\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e, \u044f\u043a\u0430 \u0431\u0443\u0434\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 \u0432\u043d\u0438\u0437\u0443."}),(0,l.jsx)("label",{htmlFor:"name",className:x().label,children:"\u0406\u043c'\u044f:"}),(0,l.jsx)("input",{className:x().input,placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0454\u043a\u0442\u0443",type:"text",id:"name",name:"name",value:C.name,onChange:k,required:!0}),(0,l.jsx)("label",{htmlFor:"descriptionLink",className:x().label,children:"Link"}),(0,l.jsx)("input",{type:"text",id:"descriptionLink",placeholder:"Project Description URL",className:x().input,name:"descriptionLink",value:C.descriptionLink,onChange:k,required:!0})]})]}),(0,l.jsxs)("div",{className:x().formInputWrapper,children:[(0,l.jsx)("h2",{className:x().formCountTitle,children:"\u0421\u0442\u0430\u0442\u0442\u0456 \u0432\u0438\u0442\u0440\u0430\u0442"}),(0,l.jsxs)("div",{className:x().inputTitles,children:[(0,l.jsx)("p",{className:x().inputTitle,children:"#"}),(0,l.jsx)("p",{className:x().inputTitle,children:"\u0422\u0438\u043f \u0432\u0438\u0442\u0440\u0430\u0442\u0438"}),(0,l.jsx)("p",{className:x().inputTitle,children:"\u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0432\u0438\u0442\u0440\u0430\u0442\u0438"}),(0,l.jsx)("p",{className:x().inputTitle,children:"\u0421\u0443\u043c\u0430 \u0432 ONx"}),(0,l.jsx)("p",{className:x().inputTitle,children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0433\u0430\u043c\u0430\u043d\u0446\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u0432\u0446\u044f"}),(0,l.jsx)("p",{className:x().inputTitle,children:"   "})]}),C.spendings.map((function(e,t){return(0,l.jsxs)("div",{className:x().formCount,children:[(0,l.jsx)("p",{className:x().inputNumber,children:t+1}),(0,l.jsx)("input",{type:"text",name:"name",value:e.name,className:x().inputCount,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0438\u043f \u0432\u0438\u0442\u0440\u0430\u0442\u0438",onChange:function(e){return w(e,t)},required:!0}),(0,l.jsx)("input",{type:"text",name:"kind",value:e.kind,className:x().inputCount,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0432\u0438\u0442\u0440\u0430\u0442\u0438",onChange:function(e){return w(e,t)},required:!0}),(0,l.jsxs)("div",{className:x().inputWrapperCurrency,children:[(0,l.jsx)("input",{type:"number",name:"amount",value:e.amount,className:x().inputCount,placeholder:"0.00",onChange:function(e){return w(e,t)},required:!0}),(0,l.jsx)("div",{className:x().inputWrapperCurrencyImage,children:(0,l.jsx)("img",{src:"/currency.svg",alt:"Currency"})})]}),(0,l.jsx)("input",{type:"text",name:"provider",value:e.provider,className:x().inputCount,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443 \u0433\u0430\u043c\u0430\u043d\u0446\u044f 0x...",onChange:function(e){return w(e,t)},required:!0}),(0,l.jsx)("div",{className:x().cancelInput,children:(0,l.jsx)("img",{src:"/cancelcross.svg",alt:"Cancel"})})]},t)})),(0,l.jsxs)("div",{className:x().buttons,children:[(0,l.jsxs)("button",{onClick:D,className:x().formAdd,children:[(0,l.jsx)("div",{className:x().formAddImage,children:(0,l.jsx)("img",{src:"/add-circle.svg",alt:"plus"})}),(0,l.jsx)("p",{className:x().formAddText,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0438\u0442\u0440\u0430\u0442\u0443 \u0449\u0435"})]}),(0,l.jsx)("button",{onClick:D,className:x().formAddButton,children:"+5"}),(0,l.jsx)("button",{onClick:D,className:x().formAddButton,children:"+10"}),(0,l.jsx)("button",{onClick:D,className:x().formAddButton,children:"+20"})]})]}),(0,l.jsxs)("div",{className:x().amountsWrapper,children:[(0,l.jsx)("p",{className:x().amountTitle,children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430 \u0432\u0438\u0442\u0440\u0430\u0442"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:x().amountWrapper,children:[(0,l.jsxs)("p",{className:x().amount,children:[C.spendings.map((function(e){return Number(e.amount)})).reduce((function(e,t){return e+t}),0)," ",(0,l.jsx)("span",{})]}),(0,l.jsx)("div",{className:x().amountCurrency,children:(0,l.jsx)("img",{src:"/onx.svg",alt:""})})]}),(0,l.jsx)("div",{className:x().amountWrapper})]})]}),(0,l.jsxs)("div",{className:x().submitButtons,children:[(0,l.jsxs)("button",{type:"submit",className:x().createButton,children:[(0,l.jsx)("div",{className:x().createButtonImage,children:(0,l.jsx)("img",{src:"/disk.svg",alt:"Disk"})}),(0,l.jsx)("p",{className:x().createButtonText,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]}),(0,l.jsx)("button",{type:"reset",className:x().cancelButton,onClick:function(e){e.preventDefault(),console.log("Cancel"),y((0,c.Z)({},g))},children:(0,l.jsxs)("div",{className:x().cancelButtonWrapper,children:[(0,l.jsx)("div",{className:x().cancelWrapperImage,children:(0,l.jsx)("img",{src:"/remove-circle.svg",alt:"Remove"})}),(0,l.jsx)("p",{className:x().cancelWrapperText,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})})]})]})}},45682:function(e,t,r){"use strict";function n(e){return"ACTION_REJECTED"==e.code}r.d(t,{C:function(){return a},y:function(){return n}});var a={OPEN:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439",ACTIVE:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",PENDING_APPROVE:"\u041e\u0447\u0456\u043a\u0443\u0454 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f",ARCHIVED:"\u0417\u0430\u0430\u0440\u0445\u0456\u0432\u043e\u0432\u0430\u043d\u0438\u0439"}},33850:function(e){e.exports={leftSide:"create-project_leftSide__vRZnT",labelForImages:"create-project_labelForImages__Fy7yD",labelTop:"create-project_labelTop__CAHVq",labelImage:"create-project_labelImage__nsHPK",labelTitle:"create-project_labelTitle__FuHP8",labelDescription:"create-project_labelDescription__2m6Gx",labelDown:"create-project_labelDown__PoQg8",size:"create-project_size__hf994",content:"create-project_content__xEYcZ",inputLabel:"create-project_inputLabel__AwKPb",form:"create-project_form__epNuu",title:"create-project_title__mRpyw",secondSide:"create-project_secondSide__5shkJ",description:"create-project_description__2Qy09",input:"create-project_input__pMgOs",label:"create-project_label__0gZTV",formCountTitle:"create-project_formCountTitle__8AI9Z",formCount:"create-project_formCount__OulJm",inputCount:"create-project_inputCount__9_Dar",inputWrapper:"create-project_inputWrapper__9A96d",mainWrapper:"create-project_mainWrapper__s0pAs",inputTitle:"create-project_inputTitle__0BNcm",inputTitles:"create-project_inputTitles__OuQrf",inputNumber:"create-project_inputNumber__zyFzo",formAdd:"create-project_formAdd__dla7K",formAddImage:"create-project_formAddImage__t8YzZ",formAddText:"create-project_formAddText__a5cYH",formAddButton:"create-project_formAddButton__ObsGs",buttons:"create-project_buttons__qwQ5c",amountsWrapper:"create-project_amountsWrapper__to0hX",amountTitle:"create-project_amountTitle__qEsXq",amount:"create-project_amount__A0UGS",amountCurrency:"create-project_amountCurrency___GKZ8",amountWrapper:"create-project_amountWrapper__1B9k6",amountSecond:"create-project_amountSecond__rmdAk",amountSecondCurrency:"create-project_amountSecondCurrency__LpivW",createButton:"create-project_createButton__avmBt",createButtonImage:"create-project_createButtonImage__GPekm",createButtonText:"create-project_createButtonText__BpgMF",cancelButton:"create-project_cancelButton__k_qxj",cancelWrapperImage:"create-project_cancelWrapperImage__A2q37",submitButtons:"create-project_submitButtons__bQJ1V",cancelButtonWrapper:"create-project_cancelButtonWrapper__ovzDH",cancelWrapperText:"create-project_cancelWrapperText__l1s_w",cancelInput:"create-project_cancelInput__5Lxvg",labelForImagesDisable:"create-project_labelForImagesDisable__0Tte8",inputWrapperCurrency:"create-project_inputWrapperCurrency__VE_YA",inputWrapperCurrencyImage:"create-project_inputWrapperCurrencyImage__BDWd4",wrapper:"create-project_wrapper__QDgyW"}},47568:function(e,t,r){"use strict";function n(e,t,r,n,a,c,s){try{var i=e[c](s),o=i.value}catch(l){return void r(l)}i.done?t(o):Promise.resolve(o).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,c){var s=e.apply(t,r);function i(e){n(s,a,c,i,o,"next",e)}function o(e){n(s,a,c,i,o,"throw",e)}i(void 0)}))}}r.d(t,{Z:function(){return a}})},69396:function(e,t,r){"use strict";function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[1664,7971,9496,1952,9774,2888,179],(function(){return t=93890,e(e.s=t);var t}));var t=e.O();_N_E=t}]);